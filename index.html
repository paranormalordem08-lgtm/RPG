<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ficha de Ordem Paranormal</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen,
        Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
      background: #1e1e1e;
      color: #fdfcfc;
      padding: 15px;
      margin: 0;
    }
    h1 {
      font-size: 1.8rem;
      margin-bottom: 20px;
      text-align: center;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 20px;
      display: block;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
    }
    thead {
      background: #bd6868;
      color: white;
      font-weight: bold;
      display: table;
      width: 100%;
      table-layout: fixed;
    }
    tbody {
      display: block;
      max-height: 400px;
      overflow-y: auto;
      width: 100%;
    }
    th,
    td {
      padding: 10px 15px;
      border-bottom: 1px solid #444;
      white-space: nowrap;
      text-align: left;
    }
    td span {
      cursor: pointer;
      color: #61dafb;
      user-select: none;
      display: inline-block;
      transition: color 0.2s;
    }
    td span:hover,
    td span:focus {
      text-decoration: underline;
      color: #21a1f1;
      outline: none;
    }
    #resultado {
      font-size: 1.2rem;
      margin-top: 15px;
      padding: 15px;
      background: #080808;
      border-radius: 10px;
      text-align: center;
      min-height: 50px;
      user-select: text;
      word-wrap: break-word;
      transition: background-color 0.4s ease;
    }
    /* Anima√ß√£o para piscar */
    @keyframes piscar {
      0%, 100% { background-color: #080808; }
      50% { background-color: #333; }
    }
    #resultado.animado {
      animation: piscar 0.5s ease;
    }
    @media (max-width: 480px) {
      body {
        padding: 10px;
      }
      h1 {
        font-size: 1.4rem;
      }
      th,
      td {
        padding: 8px 10px;
        font-size: 0.9rem;
      }
      #resultado {
        font-size: 1rem;
        padding: 10px;
      }
    }
  </style>
</head>
<body>
  <h1>Ficha de Per√≠cias ‚Äî Ordem Paranormal</h1>

  <table>
    <thead>
      <tr>
        <th>Atributo</th>
        <th>Per√≠cia</th>
        <th>Descri√ß√£o</th>
      </tr>
    </thead>
    <tbody id="tabela-pericias">
      <!-- Preenchido via JavaScript -->
    </tbody>
  </table>

  <div id="resultado" tabindex="0">Clique em uma per√≠cia para rolar o dado.</div>

  <!-- √Åudio embedado para som -->
  <audio id="somDado" src="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEAIlYAAESsAAACABAAZGF0YQgAAAAA/////w==" preload="auto"></audio>

  <script>
    const pericias = [
      { atributo: "For√ßa", nome: "Luta", desc: "Combate corpo a corpo.", mod: 0 },
      { atributo: "For√ßa", nome: "Empunhadura", desc: "Armas brancas, como Facas ou Espadas.", mod: 0 },
      { atributo: "For√ßa", nome: "Arrombamento", desc: "Abrir fechaduras, For√ßar porta.", mod: 0 },
      { atributo: "For√ßa", nome: "Atletismo", desc: "Correr, Saltar, Escalar, Nadar.", mod: 0 },
      { atributo: "Agilidade", nome: "Acrobacia", desc: "Manobras, equil√≠brio.", mod: 0 },
      { atributo: "Agilidade", nome: "Furtividade", desc: "Se mover sem ser visto.", mod: 0 },
      { atributo: "Agilidade", nome: "Iniciativa", desc: "Agir primeiro no combate.", mod: 0 },
      { atributo: "Agilidade", nome: "Pontaria", desc: "Ataques √† dist√¢ncia.", mod: 0 },
      { atributo: "Agilidade", nome: "Reflexos", desc: "Esquivar de ataques.", mod: 0 },
      { atributo: "Agilidade", nome: "Pilotagem", desc: "Condu√ß√£o de ve√≠culos.", mod: 0 },
      { atributo: "Agilidade", nome: "Destreza", desc: "Agilidade, Coordena√ß√£o, Reflexos e Equil√≠brio do personagem.", mod: 0 },
      { atributo: "Vigor", nome: "Fortitude", desc: "Representa a resist√™ncia f√≠sica e mental do personagem.", mod: 0 },
      { atributo: "Intelecto", nome: "Ci√™ncias", desc: "Conhecimentos m√©dicos e t√©cnicos.", mod: 0 },
      { atributo: "Intelecto", nome: "Investiga√ß√£o", desc: "Buscar pistas e padr√µes.", mod: 0 },
      { atributo: "Intelecto", nome: "Ocultismo", desc: "Conhecimento paranormal.", mod: 0 },
      { atributo: "Intelecto", nome: "Racioc√≠nio", desc: "Resolver enigmas e l√≥gica.", mod: 0 },
      { atributo: "Intelecto", nome: "Tecnologia", desc: "Hackear, usar m√°quinas.", mod: 0 },
      { atributo: "Intelecto", nome: "T√°tica", desc: "Planejamento estrat√©gico.", mod: 0 },
      { atributo: "Intelecto", nome: "Medicina", desc: "Tratar doen√ßas e ferimentos.", mod: 0 },
      { atributo: "Vontade", nome: "Concentra√ß√£o", desc: "Manter foco mental.", mod: 0 },
      { atributo: "Vontade", nome: "Fortitude", desc: "Resist√™ncia f√≠sica e mental.", mod: 0 },
      { atributo: "Vontade", nome: "Intui√ß√£o", desc: "Pressentir inten√ß√µes.", mod: 0 },
      { atributo: "Vontade", nome: "Escutar", desc: "Ouvir algo.", mod: 0 },
      { atributo: "Presen√ßa", nome: "Adestramento", desc: "Lidar com animais.", mod: 0 },
      { atributo: "Presen√ßa", nome: "Engana√ß√£o", desc: "Mentir, disfar√ßar.", mod: 0 },
      { atributo: "Presen√ßa", nome: "Intimida√ß√£o", desc: "Assustar, impor respeito.", mod: 0 },
      { atributo: "Presen√ßa", nome: "Manipula√ß√£o", desc: "Persuadir, negociar.", mod: 0 },
      { atributo: "Presen√ßa", nome: "Performance", desc: "Atuar, entreter.", mod: 0 },
      { atributo: "Presen√ßa", nome: "Diplomacia", desc: "Liderar, resolver conflitos.", mod: 0 },
      { atributo: "Presen√ßa", nome: "Charme", desc: " influenciar outras pessoas ou criaturas.", mod: 0 },
      { atributo: "Percep√ß√£o", nome: "Encontrar", desc: "Achar pistas, detalhes.", mod: 0 },
      { atributo: "Percep√ß√£o", nome: "Percep√ß√£o", desc: "Notar mudan√ßas e ru√≠dos.", mod: 0 },
      { atributo: "Defesa", nome: "Esquiva", desc: "Evitar ataques.", mod: 0 },
      { atributo: "Defesa", nome: "Contra-Ataque ", desc: "devolver o dano.", mod: 0 }
    ];

    const tabela = document.getElementById("tabela-pericias");
    const resultado = document.getElementById("resultado");
    const somDado = document.getElementById("somDado");

    pericias.forEach(pericia => {
      const linha = document.createElement("tr");
      linha.innerHTML = `
        <td>${pericia.atributo}</td>
        <td><span tabindex="0" role="button" onclick="rolarDado('${pericia.nome}', ${pericia.mod})" onkeydown="if(event.key==='Enter' || event.key===' ') rolarDado('${pericia.nome}', ${pericia.mod})">${pericia.nome}</span></td>
        <td>${pericia.desc}</td>
      `;
      tabela.appendChild(linha);
    });

    function rolarDado(nome, mod) {
      // Toca o som
      somDado.currentTime = 0;
      somDado.play();

      // Gira o dado
      const d20 = Math.floor(Math.random() * 20) + 1;
      const total = d20 + mod;

      let resultadoTexto = "";

      if (d20 <= 9) {
        resultadoTexto = "üíÄ Fracasso";
      } else if (d20 <= 14) {
        resultadoTexto = "üòê Sucesso normal";
      } else if (d20 <= 18) {
        resultadoTexto = "üí™ Sucesso bom";
      } else {
        resultadoTexto = "üåü Sucesso extremo";
      }

      resultado.innerHTML = `üé≤ Voc√™ rolou <strong>${nome}</strong>: <strong>${d20}</strong> + ${mod} = <strong>${total}</strong> ‚Üí <strong>${resultadoTexto}</strong>`;
      resultado.focus();

      // Adiciona a classe para anima√ß√£o e remove ap√≥s 600ms
      resultado.classList.add("animado");
      setTimeout(() => {
        resultado.classList.remove("animado");
      }, 600);
    }
  </script>
</body>
</html>

